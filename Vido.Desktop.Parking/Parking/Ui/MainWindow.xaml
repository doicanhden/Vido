<Window
  xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
  xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
  xmlns:Views="clr-namespace:Vido.Parking.Ui.Views"
  xmlns:ViewModels ="clr-namespace:Vido.Parking.Ui.ViewModels"
  x:Class="Vido.Desktop.Parking.Ui.MainWindow" Loaded="Window_Loaded"
  Title="Bãi xe Vido" Height="561.4" Width="746">
  <Window.Resources>
    <DataTemplate DataType="{x:Type ViewModels:LaneViewModel}">
      <Views:LaneView Margin="5" BorderThickness="1" BorderBrush="Red" DataContext="{Binding}" FontSize="20"/>
    </DataTemplate>
  </Window.Resources>

  <Grid>
    <Grid.RowDefinitions>
      <RowDefinition Height="Auto"/>
      <RowDefinition Height="*"/>
      <RowDefinition Height="Auto"/>
    </Grid.RowDefinitions>

    <!-- Lane configs button -->
    <Button Width="35" Height="35" HorizontalAlignment="Right" Margin="10,10,10,5" Command="{Binding ShowLaneConfigsCommand}" Style="{DynamicResource VidoButtonStyle}">
      <Path Margin="2" Stretch="Uniform" Fill="Gray"
            Data="F1 M 36.5302,10.7661L 36.0022,10.1901C 35.7962,9.96811 35.5362,9.83609 35.2222,9.7941C 34.9081,9.75211 34.6241,9.83609 34.3701,10.0461C 33.89,10.0541 33.41,9.8461 32.93,9.42209C 32.532,8.87805 32.3439,8.26199 32.366,7.57394C 32.388,6.88589 32.272,6.36588 32.0179,6.01389C 31.8549,5.85086 31.5329,5.52884 31.0519,5.04782C 30.5709,4.56677 30.0448,4.04074 29.4738,3.4697C 28.9438,2.68765 27.6757,1.7916 25.6696,0.781525C 23.6635,-0.228516 20.4993,-0.260529 16.177,0.685547L 16.225,1.78961C 16.342,1.7236 17.2,1.8436 18.7991,2.14963C 20.3982,2.45566 22.0363,3.34372 23.7134,4.81381C 23.7845,4.8428 23.9305,5.0968 24.1515,5.57584C 24.3725,6.05487 24.2425,6.5849 23.7614,7.16592C 23.4734,7.49396 23.3294,7.65396 23.3294,7.64597L 22.7534,8.22202L 26.3056,11.7262C 26.3326,11.6962 26.4706,11.5522 26.7196,11.2942C 26.9687,11.0362 27.1667,10.8441 27.3137,10.7182C 27.6277,10.3961 28.0917,10.2721 28.7057,10.3461C 29.3198,10.4201 29.9278,10.7522 30.5298,11.3422C 30.9359,11.7402 31.1799,12.1202 31.2619,12.4823C 31.3439,12.8443 31.2759,13.1043 31.0579,13.2623C 30.9419,13.4453 30.9219,13.6794 30.9979,13.9644C 31.0739,14.2494 31.2219,14.4954 31.4419,14.7024L 32.0179,15.3264C 32.317,15.5905 32.643,15.7224 32.996,15.7224C 33.349,15.7224 33.663,15.5905 33.938,15.3264L 36.5302,12.6863C 36.7942,12.3872 36.9263,12.0612 36.9263,11.7082C 36.9263,11.3552 36.7943,11.0412 36.5302,10.7661 Z M 20.9293,17.2466L 25.4895,12.5903L 22.0334,9.03806L 17.281,13.8864L 13.2968,9.9021C 12.7498,9.33606 12.3918,8.84805 12.2227,8.43802C 12.0537,8.02798 12.0437,7.49194 12.1927,6.82993C 12.3927,6.05087 12.4128,5.22083 12.2527,4.33975C 12.0927,3.45871 11.5607,2.59265 10.6566,1.74161C 10.4886,1.6106 10.2846,1.46457 10.0446,1.30359C 9.8046,1.14258 9.67261,1.03256 9.64859,0.973541L 9.64859,0.973541C 8.11548,0.211517 6.74139,-0.0285034 5.52631,0.25351C 4.31128,0.535522 3.66922,0.727539 3.60022,0.829559L 3.36017,1.21359C 3.46521,1.28357 3.92725,1.58762 4.74628,2.12564C 5.56534,2.66367 6.11136,3.01569 6.3844,3.1817C 6.64542,3.30771 6.89142,3.67972 7.12244,4.29776C 7.35342,4.9158 7.15543,5.74387 6.52838,6.78192C 5.83136,7.74997 5.17334,8.22601 4.55426,8.20999C 3.93521,8.194 3.50519,8.06998 3.26419,7.83798C 2.99115,7.67398 2.44513,7.32996 1.6261,6.80591C 0.807037,6.28189 0.345001,5.98587 0.240021,5.91788L 0,6.30188C -0.0700073,6.4119 0.0220032,7.09192 0.276031,8.34201C 0.530029,9.59207 1.36609,10.7522 2.78418,11.8222C 3.49121,12.2672 4.18924,12.5173 4.8783,12.5723C 5.56732,12.6273 6.1814,12.5533 6.7204,12.3503C 7.23145,12.1792 7.72147,12.1972 8.19049,12.4043C 8.65955,12.6113 9.20953,13.0253 9.84061,13.6463L 13.8248,17.4866L 5.56836,25.167C 5.20831,25.5481 5.02832,25.9861 5.02832,26.4811C 5.02832,26.9762 5.20831,27.4022 5.56836,27.7592L 7.44046,29.6793C 7.82147,30.0393 8.25952,30.2193 8.75455,30.2193C 9.24954,30.2193 9.67557,30.0393 10.0326,29.6793L 17.2331,20.9908L 24.9615,29.1513C 25.5906,29.7743 26.3126,30.0883 27.1276,30.0934C 27.9427,30.0983 28.6768,29.8003 29.3298,29.1993C 29.9318,28.5462 30.2398,27.8122 30.2538,26.9972C 30.2679,26.1821 29.9758,25.4601 29.3778,24.831L 20.9293,17.2466 Z M 28.2737,28.1432C 27.9467,28.4742 27.5687,28.6283 27.1396,28.6053C 26.7106,28.5822 26.3206,28.4122 25.9696,28.0952C 25.6815,27.7882 25.5375,27.4182 25.5375,26.9851C 25.5375,26.5521 25.6815,26.1701 25.9696,25.8391C 26.3206,25.5271 26.7106,25.3711 27.1396,25.3711C 27.5687,25.3711 27.9467,25.5271 28.2737,25.8391C 28.5857,26.1721 28.7417,26.5621 28.7417,27.0092C 28.7417,27.4562 28.5857,27.8342 28.2737,28.1432 Z "/>
    </Button>

    <!-- Database configs button -->
    <Button Width="35" Height="35" HorizontalAlignment="Right" Margin="10,10,50,5" Command="{Binding ShowConnectionStringEditCommand}" Style="{DynamicResource VidoButtonStyle}">
      <Path Margin="2" Stretch="Uniform" Fill="Gray" UseLayoutRounding="False"
            Data="F1 M 0,6.11249C 0,6.01251 0.00749207,5.92749 0.0225067,5.85748C 0.0524902,5.76251 0.111252,5.65875 0.198746,5.54626C 0.286255,5.43378 0.352493,5.34875 0.397507,5.29126C 0.44249,5.23376 0.537491,5.14252 0.682495,5.01752L 0.982498,4.72498L 1.71001,4.07251L 1.71001,5.76001L 21.8175,5.76001L 21.8175,4.07251L 22.5,4.73999C 22.56,4.79498 22.6687,4.89124 22.8262,5.02875C 22.9837,5.16626 23.09,5.26123 23.145,5.31372C 23.2,5.36627 23.2662,5.44623 23.3438,5.55377C 23.4212,5.66125 23.4675,5.76501 23.4825,5.86499C 23.4975,5.96503 23.505,6.10876 23.505,6.29626C 23.505,6.48376 23.49,6.71002 23.46,6.97498C 23.365,7.42999 23.1813,8.46503 22.9088,10.08C 22.6362,11.695 22.355,13.385 22.065,15.15C 21.775,16.915 21.615,17.86 21.585,17.985C 21.43,18.78 20.9525,19.185 20.1525,19.2L 3.39751,19.2C 2.56749,19.2 2.0825,18.785 1.94249,17.955C 1.85249,17.56 1.545,15.7413 1.02,12.4987C 0.494995,9.25623 0.17749,7.41748 0.0675049,6.98248C 0.0225067,6.54248 0,6.2525 0,6.11249 Z M 3.39751,4.79999L 3.39751,3.59998C 3.39751,3.23999 3.49873,2.95752 3.70125,2.7525C 3.90375,2.54749 4.1075,2.42999 4.3125,2.39996L 4.58998,2.39996L 18.9375,2.39996C 19.0325,2.39996 19.1462,2.40747 19.2787,2.42249C 19.4113,2.4375 19.59,2.54749 19.815,2.7525C 20.04,2.95752 20.1525,3.23999 20.1525,3.59998L 20.1525,4.79999L 3.39751,4.79999 Z M 5.78999,1.44C 5.78999,1.01501 5.895,0.67749 6.105,0.42749C 6.315,0.17749 6.515,0.0349731 6.705,0L 6.9825,0L 16.545,0C 16.64,0 16.75,0.00872803 16.875,0.0262451C 17,0.0437622 17.1763,0.17749 17.4037,0.42749C 17.6312,0.67749 17.745,1.01501 17.745,1.44L 5.78999,1.44 Z M 6.9825,11.205C 6.9825,12.055 7.39,12.48 8.205,12.48L 15.3525,12.48C 15.7125,12.48 15.9938,12.3762 16.1962,12.1688C 16.3987,11.9612 16.5,11.7575 16.5,11.5575L 16.545,11.205L 16.545,8.64001L 14.8575,8.64001L 14.8575,10.56L 8.67,10.56L 8.67,8.64001L 6.9825,8.64001L 6.9825,11.205 Z "/>
    </Button>

    <ItemsControl Grid.Row="1" Margin="10,5,10,10" ItemsSource="{Binding Lanes}">
      <ItemsControl.ItemsPanel>
        <ItemsPanelTemplate>
          <UniformGrid Rows="1" IsItemsHost="True"/>
        </ItemsPanelTemplate>
      </ItemsControl.ItemsPanel>
    </ItemsControl>

    <StatusBar Grid.Row="2" Height="20">
      <TextBlock Text="{Binding Status}"/>
    </StatusBar>
  </Grid>
</Window>
